{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport classes from './../../../styles/views/course-view-styles.module.scss';\nimport stylesOffice from './../../../styles/layouts/office-layouts-styles.module.scss';\nimport CourseItem from './components/Courseitem';\nimport Lisp from '../../../widgets/lisp/Lisp';\nimport ContextApp from './../../../context/App/ContextApp';\n\nvar CoursesView = function CoursesView(_ref) {\n  var courses = _ref.courses;\n\n  var _useContext = useContext(ContextApp),\n      stateApp = _useContext.stateApp;\n\n  var router = useRouter();\n  var payment = stateApp.user && stateApp.user.status ? stateApp.user.status : '0';\n  useEffect(function () {\n    if (payment === '0') {\n      router.push('/ru/office');\n    }\n  }, [stateApp, payment]);\n\n  var _useState = useState(0),\n      pageCourse = _useState[0],\n      setPageCourse = _useState[1];\n\n  var parentCourse = courses.filter(function (el) {\n    return el.course_id === null;\n  }).slice(pageCourse, pageCourse + 2);\n\n  var _useState2 = useState(parentCourse),\n      coursesData = _useState2[0],\n      setCoursesData = _useState2[1];\n\n  var _useState3 = useState([]),\n      content = _useState3[0],\n      setContent = _useState3[1];\n\n  var _useState4 = useState(false),\n      showBack = _useState4[0],\n      setShowBack = _useState4[1];\n\n  var handleCourses = function handleCourses(children, id) {\n    setShowBack(true);\n    setContent(function () {\n      return courses.filter(function (el) {\n        return Number(el.course_id) === id;\n      });\n    });\n    setCoursesData([courses.find(function (el) {\n      return Number(el.id) === id;\n    })]);\n  };\n\n  var handleContent = function handleContent(id) {\n    router.push(\"/ru/office/modules?course_id=\".concat(id));\n  };\n\n  var back = function back() {\n    setCoursesData(parentCourse);\n    setContent([]);\n    setShowBack(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: stylesOffice.containerOffice,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: classes.breadcrumb,\n      children: showBack ? /*#__PURE__*/_jsx(\"div\", {\n        onClick: function onClick() {\n          return back();\n        },\n        children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u043C\"\n      }) : pageCourse > 0 ? /*#__PURE__*/_jsx(\"div\", {\n        children: \"\\u041F\\u0440\\u0435\\u0432\\u0435\\u0434\\u0443\\u0449\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u044B\"\n      }) : /*#__PURE__*/_jsx(_Fragment, {})\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.courseWrapper,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: !showBack ? classes.courseParent : [classes.courseParent, classes.courseParentActive].join(' '),\n        children: coursesData && coursesData.map(function (el, idx) {\n          return /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(CourseItem, {\n              classes: classes,\n              el: el,\n              handleCourses: handleCourses\n            }, \"courses\".concat(idx)), /*#__PURE__*/_jsx(\"div\", {\n              className: !showBack ? classes.courseItemDesc : [classes.courseItemDesc, classes.courseItemDescActive].join(' '),\n              children: el.description\n            })]\n          });\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: !showBack ? classes.contentParent : [classes.contentParent, classes.contentParentActive].join(' '),\n        children: content.length > 0 && /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Lisp, {\n            data: content,\n            handleContent: handleContent\n          })\n        })\n      })]\n    })]\n  });\n};\n\nexport default CoursesView;","map":null,"metadata":{},"sourceType":"module"}