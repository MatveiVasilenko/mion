{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"D:/MotichProduction/motich/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useMemo, useCallback, useRef } from 'react';\nimport ReactPlayer from 'react-player';\nimport TextField from '../../../../widgets/ui/TextField';\nimport { NET } from './../../../../network';\nimport classes from './../../../../styles/views/module-view-styles.module.scss';\nimport ControlsVideo from './ControlsVideo';\nimport screenfull from 'screenfull';\n\nvar Video = function Video(_ref) {\n  var path = _ref.path,\n      description = _ref.description;\n\n  //Controls block state\n  var _useState = useState(false),\n      showControls = _useState[0],\n      setShowControls = _useState[1]; // const [showPlay, setShowPlay] = useState(false)\n\n\n  var _useState2 = useState(1),\n      volume = _useState2[0],\n      setVolume = _useState2[1];\n\n  var _useState3 = useState({\n    playing: true\n  }),\n      state = _useState3[0],\n      setState = _useState3[1];\n\n  var playing = state.playing;\n  var refPlayer = React.useRef(null);\n  var refPlayerContainer = React.useRef(null); //FunctionControls\n\n  var playVideo = function playVideo() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      playing: !playing\n    }));\n    setTimeout(function () {\n      setShowControls(false);\n    }, 3000);\n  };\n\n  var toggleFullScreen = function toggleFullScreen() {\n    screenfull.toggle(refPlayerContainer.current);\n  };\n\n  var changeVolume = function changeVolume(v) {\n    setVolume(Number(v));\n  };\n\n  var progressVideo = function progressVideo(changeData) {\n    setState(_objectSpread(_objectSpread({}, state), changeData));\n  };\n\n  var progressVideoContols = function progressVideoContols(e) {\n    console.log(e); // console.log(parseFloat(e))\n\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      played: Number(e)\n    }));\n    refPlayer.current.seekTo(Number(e));\n  };\n\n  var durationVideo = useCallback(function (e) {// setProgress({\n    //     ...progress,\n    //     end: e\n    // })\n  }, []);\n\n  var handleFastwind = function handleFastwind() {\n    refPlayer.current.seekTo(refPlayer.current.getCurrentTime() + 10);\n  };\n\n  console.log(\"\".concat(NET.BACK_URL_MODULE).concat(path));\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classes.wrapper,\n    onClick: function onClick() {\n      return setShowControls(true);\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setShowControls(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      setTimeout(function () {\n        setShowControls(false);\n      }, 3000);\n    },\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      ref: refPlayerContainer,\n      className: classes.videoWrapper,\n      children: [/*#__PURE__*/_jsx(ReactPlayer, {\n        url: \"\".concat(NET.BACK_URL_MODULE).concat(path),\n        playing: playing,\n        volume: volume,\n        onProgress: progressVideo,\n        onDuration: function onDuration(e) {\n          return durationVideo(e);\n        },\n        ref: refPlayer,\n        width: \"100%\",\n        height: \"auto\",\n        onSeek: function onSeek(e) {\n          return console.log(e);\n        },\n        seeking: false,\n        pip: false,\n        light: false\n      }), /*#__PURE__*/_jsx(ControlsVideo, {\n        showControls: showControls,\n        classes: classes,\n        playing: playing,\n        volume: volume,\n        progress: state,\n        funcs: {\n          play: playVideo,\n          volume: changeVolume,\n          progress: progressVideoContols,\n          full: toggleFullScreen\n        },\n        onFastwind: handleFastwind\n      })]\n    }), /*#__PURE__*/_jsx(TextField, {\n      children: description\n    })]\n  });\n};\n\nexport default Video;","map":null,"metadata":{},"sourceType":"module"}