{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport classes from './../../../styles/views/course-view-styles.module.scss';\nimport stylesOffice from './../../../styles/layouts/office-layouts-styles.module.scss';\nimport CourseItem from './components/Courseitem';\nimport Lisp from '../../../widgets/lisp/Lisp';\nimport ContextApp from './../../../context/App/ContextApp';\n\nconst CoursesView = ({\n  courses\n}) => {\n  const {\n    stateApp\n  } = useContext(ContextApp);\n  const router = useRouter();\n  const payment = stateApp.user && stateApp.user.status ? stateApp.user.status : '0';\n  useEffect(() => {\n    if (payment === '0') {\n      router.push('/ru/office');\n    }\n  }, [stateApp, payment]);\n  const {\n    0: pageCourse,\n    1: setPageCourse\n  } = useState(0);\n  const parentCourse = courses.filter(el => el.course_id === null).slice(pageCourse, pageCourse + 2);\n  const {\n    0: coursesData,\n    1: setCoursesData\n  } = useState(parentCourse);\n  const {\n    0: content,\n    1: setContent\n  } = useState([]);\n  const {\n    0: showBack,\n    1: setShowBack\n  } = useState(false);\n\n  const handleCourses = (children, id) => {\n    setShowBack(true);\n    setContent(() => {\n      return courses.filter(el => Number(el.course_id) === id);\n    });\n    setCoursesData([courses.find(el => Number(el.id) === id)]);\n  };\n\n  const handleContent = id => {\n    router.push(`/ru/office/modules?course_id=${id}`);\n  };\n\n  const back = () => {\n    setCoursesData(parentCourse);\n    setContent([]);\n    setShowBack(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: stylesOffice.containerOffice,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: classes.breadcrumb,\n      children: showBack ? /*#__PURE__*/_jsx(\"div\", {\n        onClick: () => back(),\n        children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u043A\\u0443\\u0440\\u0441\\u0430\\u043C\"\n      }) : pageCourse > 0 ? /*#__PURE__*/_jsx(\"div\", {\n        children: \"\\u041F\\u0440\\u0435\\u0432\\u0435\\u0434\\u0443\\u0449\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u044B\"\n      }) : /*#__PURE__*/_jsx(_Fragment, {})\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: classes.courseWrapper,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: !showBack ? classes.courseParent : [classes.courseParent, classes.courseParentActive].join(' '),\n        children: coursesData && coursesData.map((el, idx) => /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(CourseItem, {\n            classes: classes,\n            el: el,\n            handleCourses: handleCourses\n          }, `courses${idx}`), /*#__PURE__*/_jsx(\"div\", {\n            className: !showBack ? classes.courseItemDesc : [classes.courseItemDesc, classes.courseItemDescActive].join(' '),\n            children: el.description\n          })]\n        }))\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: !showBack ? classes.contentParent : [classes.contentParent, classes.contentParentActive].join(' '),\n        children: content.length > 0 && /*#__PURE__*/_jsx(_Fragment, {\n          children: /*#__PURE__*/_jsx(Lisp, {\n            data: content,\n            handleContent: handleContent\n          })\n        })\n      })]\n    })]\n  });\n};\n\nexport default CoursesView;","map":null,"metadata":{},"sourceType":"module"}