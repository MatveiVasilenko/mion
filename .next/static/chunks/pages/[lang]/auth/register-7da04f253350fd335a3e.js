_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[8],{"03bE":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[lang]/auth/register",function(){return r("ol5B")}])},"0Opa":function(e,t,r){"use strict";var n=r("nKUr"),a=r("rePB"),s=r("q1tI"),o=r("HJr3"),i=r.n(o),c=r("7dWK"),u=function(e){var t=e.classes,r=e.textError;return Object(n.jsx)("div",{className:t.fieldError,children:r})};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.attribute,r=e.data,o=e.setData,p=e.placeholder,d=e.type,b=e.svgIcon,f=e.errors,j=Object(s.useState)(!1),h=j[0],O=j[1],_=f[t];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:i.a.inputWrapper,children:[Object(n.jsx)("input",{className:_?[i.a.input,i.a.inputError].join(" "):i.a.input,value:r[t],placeholder:p,type:h?"text":d,onChange:function(e){o(l(l({},r),{},Object(a.a)({},t,e.target.value)))}}),b&&Object(n.jsx)("div",{className:i.a.inputIcon,children:Object(c.a)(b,{className:i.a.svgInput})}),"password"===d&&Object(n.jsx)("div",{className:i.a.inputIconPassword,onClick:function(){return O(!h)},children:Object(c.a)(h?"CloseEye":"OpenEye",{className:i.a.svgInput})})]}),!!_&&Object(n.jsx)(u,{classes:i.a,textError:_})]})}},"C/3m":function(e,t,r){"use strict";var n=r("nKUr");r("q1tI");t.a=function(e){var t=e.children;return Object(n.jsx)("div",{children:t})}},E7KZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("bd+2"),a=function(e){return{type:n.a,payload:e}}},HJr3:function(e,t,r){e.exports={inputWrapper:"form-styles_inputWrapper__ZKHd6",input:"form-styles_input__RtzQ3",inputError:"form-styles_inputError__3wGFV",fieldError:"form-styles_fieldError__15C2i",inputIcon:"form-styles_inputIcon__3xja8",svgInput:"form-styles_svgInput__3qTQD",inputIconPassword:"form-styles_inputIconPassword__3vkhq"}},"HaE+":function(e,t,r){"use strict";function n(e,t,r,n,a,s,o){try{var i=e[s](o),c=i.value}catch(u){return void r(u)}i.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var o=e.apply(t,r);function i(e){n(o,a,s,i,c,"next",e)}function c(e){n(o,a,s,i,c,"throw",e)}i(void 0)}))}}r.d(t,"a",(function(){return a}))},NbQB:function(e,t,r){"use strict";var n=r("q1tI"),a=Object(n.createContext)();t.a=a},"bd+2":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="USER_TOKEN"},"m/1V":function(e,t,r){e.exports={wrapper:"auth-view-styles_wrapper__3q8I2",wrapper__window:"auth-view-styles_wrapper__window__AyllT",wrapper__icon:"auth-view-styles_wrapper__icon__3duji",inputWrapper:"auth-view-styles_inputWrapper__1XMD2",input:"auth-view-styles_input__EpupY",title:"auth-view-styles_title__1mx_o",btn:"auth-view-styles_btn__2lSSL",btnSubSub:"auth-view-styles_btnSubSub__1tTXx",btnSub:"auth-view-styles_btnSub__2Y2bG",politic:"auth-view-styles_politic__2_f9m"}},ol5B:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),a=r("q1tI"),s=r("C/3m"),o=r("o0o1"),i=r.n(o),c=r("HaE+"),u=r("rePB"),p=r("m/1V"),l=r.n(p),d=r("QBd1"),b=r("NbQB"),f=r("0Opa"),j=r("7dWK"),h=r("20a2"),O=(r("E7KZ"),r("Po8q")),_=r.n(O);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(){Object(a.useContext)(b.a).dispatchApp;var e=Object(h.useRouter)();console.log(e.query.refferal);var t=Object(a.useState)({name:"",surname:"",password:"",email:"",phone:"",tokenName:"userToken",politic:!1}),r=t[0],s=t[1],o=Object(a.useState)({}),u=o[0],p=o[1];Object(a.useEffect)((function(){s(w(w({},r),{},{refferal_key:e.query.refferal?e.query.refferal:null}))}),[e]);var O=function(){var t=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("".concat(d.a.BACK_URL,"/register"),{method:"POST",body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}).then((function(t){200===t.status?t.json().then((function(t){console.log(t.token),localStorage.setItem("userToken",t.token),_.a.save("userToken",t.token),e.push("/ru/office")})):401===t.status&&t.json().then((function(e){var t=Object.keys(e.error),r={};t.map((function(t){return console.log(e.error[t]),"The email has already been taken."===e.error[t][0]?r[t]="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d.":"The name field is required."===e.error[t][0]||"The surname field is required."===e.error[t][0]||"The email field is required."===e.error[t][0]||"The phone field is required."===e.error[t][0]||"The password field is required."===e.error[t][0]?r[t]="\u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e":r[t]=e.error[t]})),p(r)}))}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:l.a.wrapper,children:Object(n.jsxs)("div",{className:l.a.wrapper__window,children:[Object(n.jsx)("div",{className:l.a.wrapper__icon,children:Object(j.a)("AuthForm",{width:"40px"})}),Object(n.jsx)("div",{className:l.a.title,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(n.jsx)(f.a,{attribute:"name",data:r,setData:s,placeholder:"\u0418\u043c\u044f",type:"text",svgIcon:"AuthProfile",errors:u}),Object(n.jsx)(f.a,{attribute:"surname",data:r,setData:s,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",type:"text",svgIcon:"AuthProfile",errors:u}),Object(n.jsx)(f.a,{attribute:"email",data:r,setData:s,placeholder:"e-mail",type:"email",svgIcon:"AuthEmail",errors:u}),Object(n.jsx)(f.a,{attribute:"phone",data:r,setData:s,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"tel",svgIcon:"AuthPhone",errors:u}),Object(n.jsx)(f.a,{attribute:"password",data:r,setData:s,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",svgIcon:"AuthPassword",errors:u}),Object(n.jsx)(f.a,{attribute:"repeatPassword",data:r,setData:s,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",svgIcon:"AuthPassword",errors:u}),Object(n.jsxs)("div",{className:l.a.politic,onClick:function(){return s(w(w({},r),{},{politic:!r.politic}))},children:[Object(n.jsx)("div",{children:Object(j.a)(r.politic?"AuthCheckFalse":"AuthCheckTrue",{width:r.politic?"40px":"45px",height:"45px"})}),Object(n.jsx)("div",{style:{"margin-left":r.politic?"4px":0},children:"\u042f \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})]}),Object(n.jsx)("div",{className:l.a.btn,onClick:O,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})};t.default=function(){return Object(n.jsx)(s.a,{children:Object(n.jsx)(y,{})})}}},[["03bE",0,1,2,3]]]);